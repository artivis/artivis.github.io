<!doctype html><!-- This site was created with Hugo Blox. https://hugoblox.com --><!-- Last Published: July 4, 2024 --><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo Blox Builder 5.9.7"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><script src=/js/mathjax-config.js></script><link rel=stylesheet href=/css/vendor-bundle.min.26c458e6907dc03073573976b7f4044e.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.4/css/academicons.min.css integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin=anonymous media=print onload='this.media="all"'><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href=/css/wowchemy.140328149f1241122bc1de776a5ae522.css><link rel=stylesheet href=/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=/css/libs/chroma/github-dark.min.css title=hl-dark media=print onload='this.media="all"' disabled><script async src="https://www.googletagmanager.com/gtag/js?id=G-3HDCJG0J2J"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}function trackOutboundLink(e,t){gtag("event","click",{event_category:"outbound",event_label:e,transport_type:"beacon",event_callback:function(){t!=="_blank"&&(document.location=e)}}),console.debug("Outbound link clicked: "+e)}function onClickCallback(e){if(e.target.tagName!=="A"||e.target.host===window.location.host)return;trackOutboundLink(e.target,e.target.getAttribute("target"))}gtag("js",new Date),gtag("config","G-3HDCJG0J2J",{anonymize_ip:!0}),gtag("set",{cookie_flags:"SameSite=None;Secure"}),document.addEventListener("click",onClickCallback,!1)</script><meta name=author content="Jérémie Deray"><meta name=description content="Historically ROS has been developed on top of Ubuntu, relying on the distribution as a stable base providing tools (like GCC, CMake, Python to name a few) and libraries (such as Boost, Eigen, PCL) and following its release cycle (a distribution per year, an LTS every two years)."><link rel=alternate hreflang=en href=https://artivis.github.io/post/2023/multipass_ros_blueprint/><link rel=canonical href=https://artivis.github.io/post/2023/multipass_ros_blueprint/><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_180x180_fill_lanczos_center_3.png><meta name=theme-color content="#1565c0"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://artivis.github.io/media/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_512x512_fill_lanczos_center_3.png"><meta property="og:type" content="article"><meta property="og:site_name" content="Home to artivis"><meta property="og:url" content="https://artivis.github.io/post/2023/multipass_ros_blueprint/"><meta property="og:title" content="ROS, wherever you are | Home to artivis"><meta property="og:description" content="Historically ROS has been developed on top of Ubuntu, relying on the distribution as a stable base providing tools (like GCC, CMake, Python to name a few) and libraries (such as Boost, Eigen, PCL) and following its release cycle (a distribution per year, an LTS every two years)."><meta property="og:image" content="https://artivis.github.io/media/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en"><meta property="article:published_time" content="2023-04-06T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-06T00:00:00+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://artivis.github.io/post/2023/multipass_ros_blueprint/"},"headline":"ROS, wherever you are","datePublished":"2023-04-06T00:00:00Z","dateModified":"2023-04-06T00:00:00Z","author":{"@type":"Person","name":"Jérémie Deray"},"publisher":{"@type":"Organization","name":"Home to artivis","logo":{"@type":"ImageObject","url":"https://artivis.github.io/media/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_192x192_fill_lanczos_center_3.png"}},"description":"Historically ROS has been developed on top of Ubuntu, relying on the distribution as a stable base providing tools (like GCC, CMake, Python to name a few) and libraries (such as Boost, Eigen, PCL) and following its release cycle (a distribution per year, an LTS every two years)."}</script><script src=https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.js integrity="sha512-yXXqOFjdjHNH1GND+1EO0jbvvebABpzGKD66djnUfiKlYME5HGMUJHoCaeE4D5PTG2YsSJf6dwqyUUvQvS0vaA==" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.css integrity="sha512-LQ97camar/lOliT/MqjcQs5kWgy6Qz/cCRzzRzUCfv0fotsCTC9ZHXaPQmJV8Xu/PVALfJZ7BDezl5lW3/qBxg==" crossorigin=anonymous><script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#1565c0",text:"rgb(255, 255, 255)"},button:{background:"rgb(255, 255, 255)",text:"#1565c0"}},theme:"classic",content:{message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",link:"Learn more",href:"https://www.cookiesandyou.com"}})})</script><title>ROS, wherever you are | Home to artivis</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=37e664ed086cb4ea037649854f42ec3f><script src=/js/wowchemy-init.min.2cadea5a50079c63724e95d3dac5110a.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class="page-header header--fixed"><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$ cd /home/</span>
<span class=logo__cursor style=animation-duration:2s></span></div></a></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Home to artivis</a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class="nav-link active" href=/post><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/tag><span>Tags</span></a></li><li class=nav-item><a class=nav-link href=/publication><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/about><span>About</span></a></li><li class=nav-item><a class=nav-link href=/contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item>|</li><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li><li class="nav-item dropdown theme-dropdown"><a href=# class=nav-link data-toggle=dropdown aria-haspopup=true aria-label="Display preferences"><i class="fas fa-adjust" aria-hidden=true></i></a><div class=dropdown-menu><a href=# class="dropdown-item js-set-theme-light"><span>Light</span>
</a><a href=# class="dropdown-item js-set-theme-dark"><span>Dark</span>
</a><a href=# class="dropdown-item js-set-theme-auto"><span>Automatic</span></a></div></li></ul></div></nav></header></div><div class=page-body><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="d-none d-xl-block col-xl-2 docs-toc"><div class=top-toc><a href=#>Contents</a></div><nav id=TableOfContents><ul><li><a href=#multipass>Multipass</a><ul><li><a href=#spawning-a-first-vm>Spawning a first VM</a></li><li><a href=#one-liner-to-ros-development-environment>One-liner to ROS development environment</a></li></ul></li><li><a href=#pro-tips>Pro tips</a><ul><li><a href=#mounting-a-local-folder>Mounting a local folder</a></li><li><a href=#adding-an-ssh-key>Adding an SSH key</a></li><li><a href=#running-graphical-applications>Running graphical applications</a></li><li><a href=#vscode-remote-ssh>VSCode remote-ssh</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div><main class="col-12 col-md-0 col-xl-10 py-md-3 pl-md-5 docs-content" role=main><article class=article><div class="article-container pt-3"><h1>ROS, wherever you are</h1><p class=page-subtitle>ROS development on Linux, Windows and macOS</p><div class=article-metadata><span class=article-date>Apr 6, 2023
</span><span class=middot-divider></span>
<span class=article-reading-time>8 min read</span></div></div><div class=article-container><div class=article-style><p>Historically <a href=https://www.ros.org/ target=_blank rel=noopener>ROS</a> has been developed on top of <a href=https://ubuntu.com/ target=_blank rel=noopener>Ubuntu</a>, relying on the distribution as a stable base providing tools (like <a href=https://gcc.gnu.org/ target=_blank rel=noopener>GCC</a>, <a href=https://cmake.org/ target=_blank rel=noopener>CMake</a>, <a href=https://www.python.org/ target=_blank rel=noopener>Python</a> to name a few) and libraries (such as <a href=https://www.boost.org/ target=_blank rel=noopener>Boost</a>, <a href="https://eigen.tuxfamily.org/index.php?title=Main_Page" target=_blank rel=noopener>Eigen</a>, <a href=https://pointclouds.org/ target=_blank rel=noopener>PCL</a>) and following its release cycle (a distribution per year, an LTS every two years).
This synergy has worked great for more than 15 years and saw the project and the community behind it vastly grow.</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=/post/2023/ros-ubuntu.png alt="ROS LTS" loading=lazy data-zoomable></div></div></figure></p><p>However, being tied to a specific Linux distribution raises all kinds of difficulties.
Developing for several ROS distributions can be challenging since they each are tied to an Ubuntu distribution.
This challenge increases for ROS newcomers that might not even be familiar with Linux.
Similarly, developing ROS on Windows or macOS is anything but a pleasant experience.</p><p>In this blog post, we will see how one can set up a ROS development environment whatever one’s operating system is.
Indeed, using <a href=https://multipass.run/ target=_blank rel=noopener>Multipass</a>, an Ubuntu virtual machines&rsquo; manager, it has never been easier to quickly spawn a full-fledged VM rocking Ubuntu.
Not only that, we made it so that spawning a VM with ROS pre-installed only takes a single command line. Shall we?</p><h2 id=multipass>Multipass</h2><p>The first step of our journey is the installation of <a href=https://multipass.run/ target=_blank rel=noopener>Multipass</a>.
While we summarize hereafter the installation instructions on <a href=https://multipass.run/docs/installing-on-linux target=_blank rel=noopener>Linux</a>, you can find the equivalent instructions for <a href=https://multipass.run/docs/installing-on-windows target=_blank rel=noopener>Windows</a> and <a href=https://multipass.run/docs/installing-on-macos target=_blank rel=noopener>macOS</a> on the documentation.</p><p>On Linux, Multipass ships as a <a href=https://snapcraft.io/multipass target=_blank rel=noopener>Snap package</a> allowing it to be installed on dozens of Linux distributions.
To install it, hit the following in a terminal,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo snap install multipass
</span></span></code></pre></div><p>And that’s just about it, we’re done. Let us verify that,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ multipass version
</span></span><span class=line><span class=cl>multipass   1.11.0
</span></span><span class=line><span class=cl>multipassd  1.11.0
</span></span></code></pre></div><h3 id=spawning-a-first-vm>Spawning a first VM</h3><p>With Multipass installed, we can now launch our first VM.
And while the installation procedure differs depending on the host OS, the following should run wherever you are.</p><p>As a practical case, we will place ourselves in the scenario of developing for <a href=https://docs.ros.org/en/humble/index.html target=_blank rel=noopener>ROS 2 Humble</a>, therefore using Ubuntu 22.04.
To do so, we will enter,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>multipass launch 22.04 --name humble-vm
</span></span></code></pre></div><p>After hitting enter, the command will spin a little while the VM is being provisioned.
A few moments later, a message such as <code>Launched: humble-vm</code> will appear.
Our Ubuntu VM is ready, let&rsquo;s make use of it.</p><p>To connect to our fresh VM, again it is pretty straightforward.
In a terminal enter,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ multipass shell humble-vm
</span></span><span class=line><span class=cl>ubuntu@humble-vm:~$
</span></span></code></pre></div><p>And boom, here we are!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ubuntu@humble-vm:~$ lsb_release -a
</span></span><span class=line><span class=cl>No LSB modules are available.
</span></span><span class=line><span class=cl>Distributor ID: Ubuntu
</span></span><span class=line><span class=cl>Description:    Ubuntu 22.04.2 LTS
</span></span><span class=line><span class=cl>Release:    22.04
</span></span><span class=line><span class=cl>Codename:   jammy
</span></span></code></pre></div><p>We are indeed rocking an Ubuntu 22.04 VM after just three command lines.
From there we can follow the <a href=https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html target=_blank rel=noopener>ROS 2 Humble installation guide</a> as usual and start developing for ROS 2.</p><p>This being said, mind that by default Multipass VMs are pretty constrained.
They only use a single core, a single gig of memory and five gigs of disk space.
This will be very limiting for a proper ROS 2 development environment.
Of course, we can change all of that either when initially launching the VM as <a href=https://multipass.run/docs/create-an-instance#heading--create-an-instance-with-custom-cpu-number-disk-and-ram target=_blank rel=noopener>shown in the documentation</a> or even after the facts by running the following commands,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>multipass stop humble-vm
</span></span><span class=line><span class=cl>multipass <span class=nb>set</span> local.humble-vm.cpus<span class=o>=</span><span class=m>4</span>
</span></span><span class=line><span class=cl>multipass <span class=nb>set</span> local.humble-vm.disk<span class=o>=</span>50G
</span></span><span class=line><span class=cl>multipass <span class=nb>set</span> local.humble-vm.memory<span class=o>=</span>8G
</span></span><span class=line><span class=cl>multipass start humble-vm
</span></span></code></pre></div><p>While we could keep on going, through the installation hassle of ROS 2 Humble, I promised you a one-liner to set up a fresh ROS development environment, didn’t I?</p><h3 id=one-liner-to-ros-development-environment>One-liner to ROS development environment</h3><p>Multipass in itself is already pretty handy as it is.
Three command lines and we find ourselves in a fresh Ubuntu VM.
But let&rsquo;s take it a notch further, shall we?
How about three command lines and we find ourselves in a fresh ROS development environment?</p><p>To do so, we developed a <a href=https://multipass.run/docs/linux-tutorial#heading--launch-from-a-blueprint-to-run-docker-containers target=_blank rel=noopener>Multipass blueprint</a> for ROS 2 Humble.
A blueprint is a configuration file detailing a set of parameters and instructions that drive the setup of a customized environment.
All Multipass environments can be listed as follows,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ multipass find
</span></span><span class=line><span class=cl>Image                       Aliases           Version          Description
</span></span><span class=line><span class=cl>…
</span></span><span class=line><span class=cl>core22                                        <span class=m>20230119</span>         Ubuntu Core <span class=m>22</span>
</span></span><span class=line><span class=cl>…
</span></span><span class=line><span class=cl>22.04                       jammy,lts         <span class=m>20230302</span>         Ubuntu 22.04 LTS
</span></span><span class=line><span class=cl>…
</span></span><span class=line><span class=cl>docker                                        0.4              A Docker environment with Portainer and related tools
</span></span><span class=line><span class=cl>…
</span></span><span class=line><span class=cl>ros-noetic                                    0.1              A development and testing environment <span class=k>for</span> ROS Noetic.
</span></span><span class=line><span class=cl>ros2-humble                                        0.1              A development and testing environment <span class=k>for</span> ROS <span class=m>2</span> Humble.
</span></span></code></pre></div><p>Among other things, we will find a <a href=https://ubuntu.com/core target=_blank rel=noopener>Core22 image</a>, the 22.04 image we used above, but also a Docker-ready environment and what’s of interest to us now, a ROS Noetic and a ROS 2 Humble environments.
Let us see what this is about.</p><p>First, let’s cleanup a bit.
We will stop, delete and purge our previous VM,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>multipass stop humble-vm
</span></span><span class=line><span class=cl>multipass delete --purge humble-vm
</span></span></code></pre></div><p>From a clean sheet, we will now launch our ROS 2 Humble VM making use of the predefined custom environment,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>multipass launch ros2-humble --name humble-vm
</span></span></code></pre></div><p>Again this will take a little while.
A little more than previously since this time, not only are we spawning an Ubuntu VM but also installing ROS 2 Humble automatically.</p><blockquote><p>You may see the following message,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>launch failed: The following errors occurred:
</span></span><span class=line><span class=cl>timed out waiting <span class=k>for</span> initialization to <span class=nb>complete</span>
</span></span></code></pre></div><p>It simply indicates that a Multipass internal timeout expired.
The VM does actually continue its setup in the background and you will be able to use it.
To get rid of this message, set a larger timer, e.g. <code>--timeout 600</code></p></blockquote><p>Once completed, we can connect to the VM as previously mentioned,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ multipass shell humble-vm
</span></span><span class=line><span class=cl>ubuntu@humble-vm:~$
</span></span></code></pre></div><p>What’s neat is that, not only is ROS 2 installed, the ROS 2 environment is also preconfigured.
Upon connecting to the VM, we can issue e.g.,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ubuntu@humble-vm:~$ <span class=nb>echo</span> <span class=nv>$ROS_DISTRO</span>
</span></span><span class=line><span class=cl>humble
</span></span></code></pre></div><p>ROS 2 Humble is installed, together with common ROS 2 tools, the ROS 2 environment is sourced, rosdep is initialized and updated, colcon’s autocompletion is enabled etc.
The VM is by default set to use 2 cores, 4 gigs of memory and 40 gigs of disk space.
Ready to go!</p><p>In case you didn’t switch yet to ROS 2, we’ve seen in the list of available customized environments a ROS Noetic one.
Similarly to what we’ve just did, you can launch a ROS Noetic VM with a single command line and be ready to develop in no time.</p><h2 id=pro-tips>Pro tips</h2><p>Before letting you explore your new development workflow, I’d like to share a couple tips that smooth daily driving a VM.</p><h3 id=mounting-a-local-folder>Mounting a local folder</h3><p>We may want to mount a local folder inside our VM.
To do so, nothing simpler,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>multipass mount /some/local/path humble-vm:/some/remote/path
</span></span></code></pre></div><p>We can also do that directly at launch,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>multipass launch ros2-humble --name humble-vm --mount /some/local/path:/some/instance/path
</span></span></code></pre></div><h3 id=adding-an-ssh-key>Adding an SSH key</h3><p>The second tip is to add our SSH key to the VM so that we can SSH to it.
To do so, we will copy our public key to the VM,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>multipass <span class=nb>exec</span> humble-vm -- bash -c <span class=s2>&#34;echo `cat ~/.ssh/&lt;key&gt;.pub` &gt;&gt; ~/.ssh/authorized_keys&#34;</span>
</span></span></code></pre></div><p>Note that we could also retrieve the key from GitHub,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>multipass <span class=nb>exec</span> humble-vm -- bash -c “curl https://github.com/&lt;username&gt;.keys <span class=p>|</span> tee -a ~/.ssh/authorized_keys”
</span></span></code></pre></div><p>To remote connect, let’s first find out the VM’s IP address,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ multipass info humble-vm
</span></span><span class=line><span class=cl>Name:           humble-vm
</span></span><span class=line><span class=cl>State:          Running
</span></span><span class=line><span class=cl>IPv4:           10.87.167.28
</span></span><span class=line><span class=cl>Release:        Ubuntu 22.04.2 LTS
</span></span><span class=line><span class=cl>Image hash:     345fbbb6ec82 <span class=o>(</span>Ubuntu 22.04 LTS<span class=o>)</span>
</span></span><span class=line><span class=cl>CPU<span class=o>(</span>s<span class=o>)</span>:         <span class=m>2</span>
</span></span><span class=line><span class=cl>Load:           0.00 0.06 0.09
</span></span><span class=line><span class=cl>Disk usage:     6.5GiB out of 38.6GiB
</span></span><span class=line><span class=cl>Memory usage:   243.4MiB out of 3.8GiB
</span></span><span class=line><span class=cl>Mounts:         --
</span></span></code></pre></div><p>With that, let us connect,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ssh ubuntu@10.87.167.28
</span></span><span class=line><span class=cl>ubuntu@humble-vm:~$
</span></span></code></pre></div><p>We could also make this a one liner,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ssh ubuntu@<span class=k>$(</span>multipass list --format csv <span class=p>|</span> awk -F, <span class=s1>&#39;$1==&#34;humble-vm&#34;{print $3}&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>ubuntu@humble-vm:~$
</span></span></code></pre></div><p>Note that enabling SSH is the basis for the next tips.</p><h3 id=running-graphical-applications>Running graphical applications</h3><p>Since both Linux and macOS run X by default, in order to launch a graphical application from the VM, all we need to do is to establish an X forwarding SSH session,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh -X ubuntu@10.87.167.28
</span></span></code></pre></div><p>Let&rsquo;s try that.
Running the command</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ubuntu@humble-vm:~$ ign gazebo
</span></span></code></pre></div><p>should start (Ignition) Gazebo and display the following assistant,</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=/post/2023/ign_assist.png alt="Gazebo assistant" loading=lazy data-zoomable></div></div></figure></p><p>For the reader on Windows, you will need to install an X server and export the <code>DISPLAY</code> environment variable.
All of this is detailed in the <a href=https://multipass.run/docs/set-up-a-graphical-interface#heading--x11-on-windows target=_blank rel=noopener>online documentation</a>.</p><h3 id=vscode-remote-ssh>VSCode remote-ssh</h3><p>If your IDE of choice is <a href=https://snapcraft.io/code target=_blank rel=noopener>VSCode</a>, you’re in luck.
Indeed, among the many plugins it offers, VSCode has a ‘remote-ssh’ plugin that allows us to, as its name suggests, <a href=https://code.visualstudio.com/docs/remote/ssh target=_blank rel=noopener>do some remote development</a>.
We can then code from the comfort of our IDE directly into the virtual environment.</p><p>First make sure you have installed the plugin, either directly from VSCode’s extension tab,</p><p><figure><div class="d-flex justify-content-center"><div class=w-100><img src=/post/2023/vscode-remote.png alt="VSCode Remote-SSH" loading=lazy data-zoomable></div></div></figure></p><p>or using the following command in a terminal,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>code --install-extension ms-vscode-remote.vscode-remote-extensionpack
</span></span></code></pre></div><p>We can now launch VSCode and open a remote connection as <a href=https://code.visualstudio.com/docs/remote/ssh#_connect-to-a-remote-host target=_blank rel=noopener>described in the documentation</a> or again directly from the terminal,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>code --folder-uri vscode-remote://ssh-remote+ubuntu@10.87.167.28/home/ubuntu
</span></span></code></pre></div><p>We should see a VSCode window opening and pointing to the VM’s <code>$HOME</code>,</p><h2 id=conclusion>Conclusion</h2><p>We have seen in this blog that no matter the operating system your machine is running on, you can easily install <a href=https://multipass.run/ target=_blank rel=noopener>Multipass</a> and use it to launch, not only an <a href=https://ubuntu.com/ target=_blank rel=noopener>Ubuntu</a> virtual machine but a <a href=https://www.ros.org/ target=_blank rel=noopener>ROS</a>-ready virtual machine.
This kind of development workflow offers a great deal of flexibility enabling you to work on several ROS distributions at once.
It also allows for isolated and reproducible workflow, which in the age of complex software development is very valuable.</p><p>In the case you are running Linux, you may also be interested in containers rather than full blown virtual machines.
Have a look at my previous post that details how you can set up a ROS 2 development container using <a href=https://linuxcontainers.org/lxd/introduction/ target=_blank rel=noopener>LXD</a>: <a href=/post/2022/ros2-humble>“Setting up ROS 2 Humble with LXD”</a>.</p><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title><button id=goTop class=btn-top><svg class="arrow up" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="5 0 50 80"><polyline fill="none" stroke="#fff" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" points="0.375, 35.375 28.375, 0.375 58.67, 35.375"/></svg></button></a></li></ul><style>.btn-feedback{display:inline-block}.btn-feedback-negative{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class="d-print-none widget--feedback"><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><p class="feedback--response feedback--response-positive">Glad to hear it!</p><p class="feedback--response feedback--response-negative">Sorry to hear that. <a href=https://github.com/artivis/artivis.github.io/discussions/new/choose target=_blank rel=noopener>Please let me know how it can improved</a>.</p><button class="btn btn-primary mb-4 btn-feedback btn-feedback-positive">
😍 Yes
</button>
<button class="btn btn-primary mb-4 btn-feedback btn-feedback-negative">
😕 No</button></div><script>const btnYes=document.querySelector(".btn-feedback-positive"),btnNo=document.querySelector(".btn-feedback-negative"),responseYes=document.querySelector(".feedback--response-positive"),responseNo=document.querySelector(".feedback--response-negative"),disableButtons=()=>{btnYes.disabled=!0,btnNo.disabled=!0},sendFeedback=e=>{if(typeof gtag!="function")return;gtag("event","click",{event_category:"page_rating",event_label:window.location.pathname,value:e,transport_type:"beacon",event_callback:function(){console.debug(`✅ Feedback sent ${e}`)}})};btnYes.addEventListener("click",()=>{console.debug("Feedback response: 😍"),responseYes.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(1)}),btnNo.addEventListener("click",()=>{console.debug("Feedback response: 😡"),responseNo.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script></div><p class=edit-page><a href=https://github.com/artivis/artivis.github.io/edit/main/content/post/2023/multipass_ros_blueprint.md><i class="fas fa-pen pr-2"></i>Edit this page</a></p><div class=article-tags><a class="badge badge-light" href=/tag/tutorial/>Tutorial</a>
<a class="badge badge-light" href=/tag/ros/>ROS</a>
<a class="badge badge-light" href=/tag/ros-2/>ROS 2</a>
<a class="badge badge-light" href=/tag/multipass/>Multipass</a></div><div class=share-box><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fartivis.github.io%2Fpost%2F2023%2Fmultipass_ros_blueprint%2F&amp;text=ROS%2C+wherever+you+are" target=_blank rel=noopener class=share-btn-twitter aria-label=twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fartivis.github.io%2Fpost%2F2023%2Fmultipass_ros_blueprint%2F&amp;t=ROS%2C+wherever+you+are" target=_blank rel=noopener class=share-btn-facebook aria-label=facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=ROS%2C%20wherever%20you%20are&amp;body=https%3A%2F%2Fartivis.github.io%2Fpost%2F2023%2Fmultipass_ros_blueprint%2F" target=_blank rel=noopener class=share-btn-email aria-label=envelope><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fartivis.github.io%2Fpost%2F2023%2Fmultipass_ros_blueprint%2F&amp;title=ROS%2C+wherever+you+are" target=_blank rel=noopener class=share-btn-linkedin aria-label=linkedin-in><i class="fab fa-linkedin-in"></i></a></li><li><a href="whatsapp://send?text=ROS%2C+wherever+you+are%20https%3A%2F%2Fartivis.github.io%2Fpost%2F2023%2Fmultipass_ros_blueprint%2F" target=_blank rel=noopener class=share-btn-whatsapp aria-label=whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Fartivis.github.io%2Fpost%2F2023%2Fmultipass_ros_blueprint%2F&amp;title=ROS%2C+wherever+you+are" target=_blank rel=noopener class=share-btn-weibo aria-label=weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="article-widget content-widget-hr"><h3>Related</h3><ul><li><a href=/post/2024/apt-cache/>Setting up an APT cache</a></li><li><a href=/post/2024/ros2-jazzy/>Setting up ROS 2 Jazzy with LXD</a></li><li><a href=/post/2022/ros2-humble/>Setting up ROS 2 Humble with LXD</a></li><li><a href=/post/2020/ros-foxy-install/>Get started with ROS 2 Foxy today with LXD</a></li><li><a href=/post/2020/lxc/>ROS Noetic development workflow in LXC</a></li></ul></div></div></article></main></div></div></div><div class=page-footer><div class=container><footer class=site-footer><p class="powered-by copyright-license-text">Jérémie Deray © 2024. This work is licensed under
<a href=https://creativecommons.org/licenses/by-nc-nd/4.0 rel="noopener noreferrer" target=_blank aria-label="Creative Commons"><i class="fab fa-creative-commons fa-xl" aria-hidden=true></i>
<i class="fab fa-creative-commons-by fa-xl" aria-hidden=true></i>
<i class="fab fa-creative-commons-nc fa-xl" aria-hidden=true></i>
<i class="fab fa-creative-commons-nd fa-xl" aria-hidden=true></i></a></p><p class=powered-by></p></footer></div></div><script src=/js/vendor-bundle.min.391d344a129df56f7ad674c2c2ed04e8.js></script><script id=search-hit-fuse-template type=text/x-template>
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script><script id=page-data type=application/json>{"use_headroom":true}</script><script src=/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js type=module></script><script src=/en/js/wowchemy.min.7f5ebaff62ae468cff8bb3dd1337bb9b.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy
</a><a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div><script src=/js/wowchemy-publication.9c0e895144aef5a693008b5c5d450147.js type=module></script></body></html>